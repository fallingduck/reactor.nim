FIXME
* await procs may cause stack overflow in some situations

TODO
* optimize `then` for immediate futures
* close UV streams
* stacktraces in futures
* support asyncfor
